# Nota Guidebook — Blueprint (v2)

> **목표**: 사내 규정·절차·FAQ·용어·서비스를 “한 곳에서, 항상 최신”으로 제공하는 **단일 출처(SSOT)** 지식베이스.  
> **이름/경로**: **Nota Guidebook** / `/guidebook`  
> **브랜드 포인트 컬러**: `#05d182`

---

## 1) 핵심 원칙

- **문서형 KB, 게시판 아님**: 글타래가 아니라 **문서 한 개를 계속 업데이트**한다. (버전/승인/소유자 명확)  
- **섹션 스코프 검색**: 허브에서 섹션 선택 → **해당 섹션 내에서만 검색**. 결과가 없을 때만 전 섹션 검색 제안.  
- **분산 소유 + 승인**: **각 부서 Owner**가 작성/수정, **Approver**가 승인·출시. 개발자는 **플랫폼**만 관리.  
- **교차참조**: FAQ ↔ 절차 ↔ 내규 ↔ 용어 ↔ 서비스가 상호 링크된다.  
- **민감 정보 비노출**: 급여/평가 등은 요약·외부 시스템 링크로 대체, 가시성 레벨로 통제.

---

## 2) 정보 구조(IA) & 라우팅

### 섹션(5)
1. **Policies(내규)** – 규정의 단일 출처  
2. **Department FAQs(부서별 FAQ)** – 반복 질문의 첫 응답지  
3. **Glossary(용어집)** – 부서/분야/ㄱ~ㅎ 필터 + 교차참조  
4. **Procedures & Forms(업무 절차·양식)** – 신청·승인·예외·SLA  
5. **Contacts & Service Catalog(연락처·서비스 카탈로그)** – “무엇을, 누구에게, 어떤 채널로”

### 라우트
- 허브: `/guidebook` (섹션 카드 5개)  
- 섹션: `/guidebook/{section}` (검색/필터/리스트)  
- 상세:  
  - `/guidebook/policies/:slug`  
  - `/guidebook/faq/:dept/:slug`  
  - `/guidebook/glossary?letter=ㄱ&dept=HR`  
  - `/guidebook/procedures/:slug#anchor`  
  - `/guidebook/services/:slug`

---

## 3) 역할·워크플로(운영 모델)

| 역할 | 권한/책임 |
|---|---|
| **Owner** (부서 담당) | 문서 작성·수정, `last_reviewed` 유지, 제안 수렴 |
| **Approver** (부서장/리드) | 승인·게시, 민감도·가시성 최종 결정 |
| **Editor**(선택) | 초안 보조 |
| **Viewer** | 열람 |

**상태**: `Draft → In Review → Approved → Published → Deprecated`  
**리뷰 주기**(권장): Policies/Service: 분기, Procedures/FAQ: 월, Glossary: 수시  
**알림**: 분기 말 자동 리마인드(슬랙 `#guidebook-updates`), 미검토 배지 표시(90일↑)

**문서 하단 공통 버튼**: `Suggest Edit` → Owner에게 슬랙/메일 티켓 생성

---

## 4) 문서 타입 & 작성 가이드

### 4.1 Policies(내규)
- **구성**: 제목 · 요약(3–5줄) · 적용범위 · 시행일 · 본문(조항) · 예외 · 위반 시 조치 · 문의  
- **좋은 예**: “연차/반차는 D-1 18:00까지 신청, 팀장→HR 승인” (숫자·책임 명확)

### 4.2 Procedures & Forms(절차·양식)
- **핵심**: `short_summary` + **단계(step)** + **앵커(`#submit`)** + 예외/필요 서류 + SLA  
- **FAQ는 요약·예외·딥링크만** 제공하고 단계 설명은 절차 문서가 단일 출처

### 4.3 Department FAQs(부서별 FAQ)
- **형식**: 한 줄 답 → 핵심 3줄 → **[절차 앵커로 바로가기]** → 예외/주의 → 문의 채널  
- **등록 기준**: 동일 질문 월 3회↑ 또는 상위 검색어

### 4.4 Glossary(용어집)
- **필드**: 용어 · 정의 · 동의어 · 부서 맥락 · 예시 · **초성(chosung)** · 관련 링크  
- ㄱ~ㅎ/부서 필터 제공

### 4.5 Contacts & Service Catalog(서비스)
- **필드**: 서비스명 · 설명 · 대상자/전제조건 · 요청 채널(슬랙/포털/메일) · 필요 정보 · **예상 처리시간(SLA)** · 운영시간 · 에스컬레이션 · 관련 정책/절차 링크

**가시성 레벨**: `PUBLIC | RESTRICTED | CONFIDENTIAL` (리스트/검색에서 필터링)

---

## 5) 검색 설계(섹션 스코프 우선)

- **허브**: 섹션 카드만, 전역 검색 없음(옵션).  
- **섹션 페이지**: 상단 검색 + 필터(부서/태그/최근 수정) → **현재 섹션만** 인덱싱/조회.  
- **빈 결과 처리**:  
  1) 오타/퍼지 제안, 2) 동의어 확장(예: 연차=휴가=오프), 3) **[전 섹션에서 검색]** 버튼.  
- **결과 카드**: 타입 배지 · 소유부서 · 마지막 검토일 배지 · 스니펫 하이라이트.  
- **연결 카드**: 하단에 관련 내규/절차/FAQ/용어/서비스 자동 노출(태그·관계 기반).

---

## 6) 기술 아키텍처(MVP)

- **Frontend**: React/TS — 허브/섹션/상세 3단 레이아웃  
- **Backend**: Flask — 정적 데이터(JSON/MD) 서빙부터 시작, 추후 승인 API 확장  
- **데이터**: 초기는 **정적 파일**(섹션별 JSON 또는 MD) → 필요 시 SQLite/SQLAlchemy 이관  
- **검색**: 브라우저 내 경량 인덱스(섹션별 Lazy-load)  
- **디자인 토큰**: Primary `#2759FF`, 카드 라운드 16px, 접근성 AA 대비

**디렉터리 스케치**
```
/services/guidebook/
  /static/guidebook/
    /data/      (policies.json, faq.json, glossary.json, procedures.json, services.json)
    synonyms.json
  /templates/guidebook/
    index.html
    section_policies.html
    section_faq.html
    ...
  api.py              # (후속) 승인/권한/알림
```

---

## 7) 거버넌스·로그·보안

- **메타데이터**(문서 상단 또는 사이드): `owner_dept, doc_owner, approver, last_reviewed, version, changelog, visibility`  
- **변경 이력**: 버전·Diff 비교 지원(승인 리뷰 단축)  
- **알림**: 분기 리마인드 + “미검토↑ 정렬”  
- **로그 지표**: 상위/무응답 검색어, FAQ→절차 전환율, 미검토 문서 수

---

## 8) UI 개요

- **허브**: 5개 카드(아이콘·한 줄 설명·진입 버튼)  
- **섹션 리스트**: “게시판형” 테이블/카드(핀 고정 가능) + 필터칩(부서/태그/최근)  
- **상세 문서**: 요약(인포박스) → 본문 → 주의/예시 컴포넌트 → 연결 카드 → 하단 “Suggest Edit”  
- **배지**: 타입/가시성/마지막 검토일

---

## 9) 샘플 문구(발췌, 실제 본문용)

### 예: 연차·반차·병가 규정(Policy)
- **신청/승인**: 연차·반차는 **D-1 18:00까지** 포털 신청 → 팀장 승인 → HR 처리.  
- **병가**: 당일 신청 가능, **1일 초과 시 의사 소견서** 제출.  
- **예외**: 긴급 상황은 사후 보고 가능(HR 증빙 대체 판단).

### 예: 연차 신청 절차(Procedure)
1. 포털 접속 → 근태 → **휴가신청** (`#submit`)  
2. 승인: 팀장 → HR  
3. **예외**: 당일은 반차만 가능(팀장 사전 승인)

### 예: FAQ(부서=HR)
- **Q**: 연차 신청은 어떻게 하나요?  
- **A**: 포털 > 근태 > **휴가신청**. **D-1 18:00 마감 / 팀장→HR 결재 / 연차·반차 선택**  
  **[연차 신청 절차로 이동]**(`/guidebook/procedures/leave-apply#submit`)  
  주의: 당일 신청은 **반차만** 가능. 문의: `#ask-hr`(10–17시)

### 예: 용어집(Glossary)
- **연차**: 유급 휴가. 동의어: 휴가/오프. 예: “연차는 D-1 18:00까지 신청”.

### 예: 서비스(카탈로그)
- **증명서 발급(HR)**: 대상/전제조건, 요청 채널(포털 링크), 필요 정보(용도·수령), SLA(영업일 2일), 에스컬레이션(HR Lead)

---

## 10) 성과 지표(운영 KPI)

- **무응답 검색어** 월간 0건 달성(또는 감소 추세)  
- **FAQ→절차 클릭 전환율** 50%+  
- **180일 내 검토 완료 비율** 95%+  
- 질문 티켓(슬랙/헬프데스크) **중복률 감소**(전/후 비교)

---

## 11) MVP 범위 & DOD

**MVP 범위**
- 허브 + 섹션 5개 라우팅  
- 섹션 스코프 검색(필터 포함), 전 섹션 검색 버튼(빈 결과 시)  
- 문서 컴포넌트(요약/주의/예시) + 마지막 검토일/소유부서 배지  
- 교차참조(FAQ↔절차 등) 링크  
- 씨드 콘텐츠(각 섹션 ≥10개)

**DOD**
- 첫 바이트 < 1s(사내망 기준), 섹션 검색 응답 < 300ms(≤1k 문서)  
- 접근성 AA, 다크 모드 대비 OK  
- `PUBLIC/RESTRICTED/CONFIDENTIAL` 필터 동작  
- “Suggest Edit” → Owner 알림 정상

---

## 12) 구축 순서(실행 체크리스트)

1. **라우팅 & 레이아웃**: 허브/섹션/상세  
2. **섹션 스코프 검색**: 인덱스 Lazy-load, 동의어 사전  
3. **문서 템플릿**: Policy/Procedure/FAQ/Glossary/Service 공통 컴포넌트  
4. **교차참조**: 관련 문서 카드  
5. **운영 기능**: 마지막 검토일 배지, Suggest Edit, 슬랙 웹훅  
6. **씨드 데이터 주입**: HR/Finance/IT/Security/Admin 우선  
7. **지표 수집**: 검색 로그/무응답/전환율 보드

---

### 결론
- **게시판이 아닌 문서형 KB** + **섹션 스코프 검색** + **분산 소유/승인**이 핵심.  
- 이 문서 그대로 **라우팅→검색→문서 템플릿→운영 기능** 순서로 구현하면, 각 부서가 스스로 최신을 유지하고, 사용자는 30초 내에 답을 찾게 된다.
